
# ğŸ“š Student Management API

This is a RESTful API built using **Node.js**, **Express**, and **MongoDB** to manage student records.  
It supports full CRUD operations and is tested using **Jest** and **Keploy**.  
API Testing is integrated into a **CI/CD pipeline using GitHub Actions**.

---

## ğŸš€ Features

- CRUD operations for student records
- MongoDB with Mongoose ORM
- Swagger-based OpenAPI schema
- AI-generated test cases using Keploy
- API test replays via CI/CD
- Lightweight and modular codebase

---

## ğŸ“¦ Tech Stack

| Layer     | Technology                         |
|-----------|------------------------------------|
| Backend   | Node.js, Express.js                |
| Database  | MongoDB, Mongoose                  |
| Testing   | Jest, Supertest, mongodb-memory-server |
| API Tests | Keploy (Record & Replay)           |
| CI/CD     | GitHub Actions                     |
| Docs      | Swagger (OpenAPI 3.0)              |

---

## ğŸ”Œ API Endpoints

| Method | Endpoint               | Description             |
|--------|------------------------|-------------------------|
| POST   | `/api/students`        | Create a student        |
| GET    | `/api/students`        | Get all students        |
| PUT    | `/api/students/:id`    | Update a student        |
| DELETE | `/api/students/:id`    | Delete a student        |

---

## ğŸ“„ OpenAPI Schema

- âœ… Schema format: OpenAPI 3.0  
- âœ… Generated using `swagger-jsdoc`

### ğŸ”— Swagger UI:
[http://localhost:5000/api-docs](http://localhost:5000/api-docs)

### ğŸ”— Swagger JSON (for Keploy):
[http://localhost:5000/api-docs-json](http://localhost:5000/api-docs-json)

### ğŸ“„ YAML Schema:
[`student-api.yaml`](./student-api.yaml)

---

## ğŸ§ª API Testing with Keploy

Keploy was used to:
- Record cURL and OpenAPI-based test cases
- Replay those tests during development and CI
- Assert functionality without writing test code manually

### âœ… Keploy Test Report

ğŸ”— [View Full Report on Keploy](https://app.keploy.io/api-testing/tr/dcc4e352-6b38-47fd-846a-cb191706686f?suiteId=88b4a484-0ff6-411d-a886-9e1083b3e650)

### ğŸ“· Screenshot of Test Result

![Keploy Test Result](./screenshots/keploy-report.png)

---

## ğŸ” CI/CD Pipeline with GitHub Actions

This project includes an automated pipeline that runs on every push or PR to `main`. It performs:

- âœ… `npm install`
- âœ… Unit + integration tests using Jest
- âœ… Keploy API test replay via Docker

### ğŸ”§ CI Config File:
[`ci.yml`](.github/workflows/ci.yml)

---

## ğŸ§ª Local Testing Guide

### 1. Install dependencies
```bash
npm install
```

### 2. Run the server
```bash
node server.js
```

### 3. Run Jest tests
```bash
npm test
```

### 4. Run Keploy API test replay
```bash
keploy test
```

Or using Docker:
```bash
docker run -v ${PWD}:/app -w /app keploy/keploy:latest keploy test
```

---

## ğŸ“ Folder Structure

```
ğŸ“ your-project/
â”œâ”€â”€ models/
â”‚   â””â”€â”€ Student.js
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ students.js
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/studentModel.test.js
â”‚   â”œâ”€â”€ integration/studentIntegration.test.js
â”‚   â””â”€â”€ api/studentAPI.test.js
â”œâ”€â”€ .keploy/
â”‚   â””â”€â”€ testcases/           â† YAML test cases generated by Keploy
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/ci.yml     â† CI/CD pipeline config
â”œâ”€â”€ screenshots/
â”‚   â””â”€â”€ keploy-report.png    â† Screenshot of Keploy test report
â”œâ”€â”€ student-api.yaml         â† OpenAPI schema for API testing
â”œâ”€â”€ server.js                â† Express server
â”œâ”€â”€ package.json             â† Project metadata and scripts
â””â”€â”€ README.md                â† You're here!
```

---

## ğŸ‘¤ Author

**Aishwarya Vera**  
GitHub: [@2903Aishwarya](https://github.com/2903Aishwarya)

---

## ğŸ›  Resources

- ğŸ“˜ Keploy Docs: [https://docs.keploy.io](https://docs.keploy.io)
- ğŸ¤– API Testing with AI: [https://app.keploy.io](https://app.keploy.io)
- ğŸ’¬ Community: [Keploy Discord](https://discord.gg/keploy)

---
